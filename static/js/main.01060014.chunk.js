(this.webpackJsonplife=this.webpackJsonplife||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),l=(n(16),n(2)),c=n(3),s=n(4),u=n(1),h=n(10),v=n(5),f=n(9),p=n.n(f),d=function(e){function t(e){if(Object(l.a)(this,t),!e.router||!e.eventName||!e.label)throw new Error('Button requires "router", "eventName", and "label"');return Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(v.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.onClick.bind(this)},this.props.label)}},{key:"onClick",value:function(e){this.props.router.emit(this.props.eventName,this.props.label)}}]),t}(r.a.Component),m=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._on={on:!0,label:"Stop"},n._off={on:!1,label:"Start"},n.state=n._off,n}return Object(v.a)(t,e),Object(c.a)(t,[{key:"componentWillUnount",value:function(){this.props.router.removeListener("reset",this.reset)}},{key:"componentDidMount",value:function(){this.props.router.on("reset",this.reset.bind(this))}},{key:"reset",value:function(){this.setState(this._off)}},{key:"render",value:function(){return r.a.createElement("button",{onClick:this.toggle.bind(this)},this.state.label)}},{key:"componentDidUpdate",value:function(){this.props.router&&this.props.router.emit(this.props.eventName,this.state.on)}},{key:"toggle",value:function(){var e=this.state.on?this._off:this._on;this.setState(e)}}]),t}(r.a.Component),b=function(){function e(t,n){Object(l.a)(this,e),this.rows=t,this.cols=n,this.length=t*n,this.cells=[],this.initialize(),this.flattened=this.cells.flat()}return Object(c.a)(e,[{key:"count",value:function(e){var t=0,n=!0,a=!1,r=void 0;try{for(var o,i=e.neighbors[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;1===(l=this.cells[l.row][l.col]).value&&(t+=1)}}catch(c){a=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return t}},{key:"initialize",value:function(){for(var e=0,t=0;t<this.rows;++t)for(var n=this.cells[t]=[],a=0;a<this.cols;++a){var r={idx:e++,row:t,col:a,value:0};this.assignNeighbors(r),n.push(r)}}},{key:"assignNeighbors",value:function(e){var t=this,n=e.row,a=e.col,r=e.idx,o=[{idx:r,row:n,col:a-1},{idx:r,row:n,col:a+1},{idx:r,row:n-1,col:a},{idx:r,row:n-1,col:a-1},{idx:r,row:n-1,col:a+1},{idx:r,row:n+1,col:a},{idx:r,row:n+1,col:a-1},{idx:r,row:n+1,col:a+1}];e.neighbors=o.filter((function(e){return e.row>=0&&e.row<t.rows&&e.col>=0&&e.col<t.cols}))}},{key:"changes",value:function(){var e=[],t=!0,n=!1,a=void 0;try{for(var r,o=this.flattened[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,l=this.count(i);3!==l||0!==i.value?1===i.value&&(l>3||l<2)&&(console.log("killing",i.row,i.col),e.push({row:i.row,col:i.col,value:0})):(console.log("reviving",i.row,i.col),e.push({row:i.row,col:i.col,value:1}))}}catch(c){n=!0,a=c}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return e}},{key:"apply",value:function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,c=this.cells[l.row][l.col];c.value=l.value,t.push(c)}}catch(s){a=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return t}},{key:"advance",value:function(){return this.apply(this.changes())}}]),e}(),y=n(6),g=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).active=e.active?e.active:"\u2b24",n.inactive=e.inactive?e.inactive:" ",n.value=e.data.value,n.onClick=n.clickHandler.bind(Object(y.a)(n)),n}return Object(v.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.value!==e.data.value}},{key:"componentDidUpdate",value:function(){console.log("Cell didUpdate",this.props.data),this.value=this.props.data.value}},{key:"clickHandler",value:function(){this.props.router.emit("cell.clicked",this.props.data)}},{key:"render",value:function(){var e=this.props.data.value?"App-cell active":"App-cell inactive";return r.a.createElement("td",{className:e,onClick:this.onClick},this.props.active?"\u2b24":" ")}}]),t}(r.a.Component),w=(n(17),new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(l.a)(this,t),e=Object(s.a)(this,Object(u.a)(t).call(this)),n.length?(e.patterns=n.join(")|("),e.patterns=new RegExp("(".concat(e.patterns,")")),e):Object(s.a)(e)}return Object(v.a)(t,e),Object(c.a)(t,[{key:"emit",value:function(e,n){Object(h.a)(Object(u.a)(t.prototype),"emit",this).call(this,e,n),this.patterns&&e.match(this.patterns)&&console.log("router",e,n)}}]),t}(p.a))(["cell.*","onoff"])),k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).rows=e.rows,n.cols=e.cols,n.game=new b(n.rows,n.cols),n.state={game:n.game,rows:n.rows,cols:n.cols},n}return Object(v.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){w.on("onoff",this.toggleInterval.bind(this)),w.on("reset",this.reset.bind(this)),w.on("cell.clicked",this.cellClicked.bind(this))}},{key:"reset",value:function(){this.interval&&(clearInterval(this.interval),this.interval=null);var e=!0,t=!1,n=void 0;try{for(var a,r=this.state.game.flattened[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){a.value.value=0}}catch(o){t=!0,n=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this.setState({game:this.game})}},{key:"cellClicked",value:function(e){e.value=0===e.value?1:0,this.setState({game:this.game})}},{key:"toggleInterval",value:function(e){var t=this;console.log("toggelInterval",e),this.interval&&(clearInterval(this.interval),this.interval=null),e&&(this.interval=setInterval((function(){return t.advance()}),1e3))}},{key:"advance",value:function(){this.game.advance().length&&this.setState({game:this.game})}},{key:"render",value:function(){var e=this.state.game.cells.map((function(e,t){var n=e.map((function(e,n){var a="r".concat(t,"c").concat(n);return r.a.createElement(g,{key:a,router:w,data:e})})),a="r".concat(t);return r.a.createElement("tr",{key:a},n)}));return r.a.createElement("table",null,r.a.createElement("tbody",null,e))}}]),t}(r.a.Component);var j=function(e){return r.a.createElement("div",{className:"App-container"},r.a.createElement("p",null,"ReactJS isn't a great way to implement Game of Life"),r.a.createElement("p",null,"But Game of LIfe is a great way to learn ReactJS!"),r.a.createElement("p",null,"Click on squares to create a starting pattern"),r.a.createElement("div",null,"\xa0"),r.a.createElement(m,{router:w,eventName:"onoff"}),r.a.createElement(d,{router:w,eventName:"reset",label:"Reset"}),r.a.createElement(k,{rows:30,cols:30}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.01060014.chunk.js.map